<!DOCTYPE html>
<html lang="en" class="yui-overrride">
<head>
    <meta charset="utf-8">
    <title>app/client/admin/js/ov/OvApp.js - OpenVeo AngularJS back end</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1 class="blue-main-title">OpenVeo AngularJS back end</h1>
        </div>
        <div class="yui3-u-1-4 version project-version">
            API Docs for: 7.1.0
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/alertService.html">alertService</a></li>
                                <li><a href="../classes/applicationService.html">applicationService</a></li>
                                <li><a href="../classes/authenticationService.html">authenticationService</a></li>
                                <li><a href="../classes/entityService.html">entityService</a></li>
                                <li><a href="../classes/i18nService.html">i18nService</a></li>
                                <li><a href="../classes/menuService.html">menuService</a></li>
                                <li><a href="../classes/ovAutoComplete.html">ovAutoComplete</a></li>
                                <li><a href="../classes/ovDateTimePicker.html">ovDateTimePicker</a></li>
                                <li><a href="../classes/OvDateTimePickerController.html">OvDateTimePickerController</a></li>
                                <li><a href="../classes/ovMatch.html">ovMatch</a></li>
                                <li><a href="../classes/ovMultiCheckBox.html">ovMultiCheckBox</a></li>
                                <li><a href="../classes/ovTags.html">ovTags</a></li>
                                <li><a href="../classes/OvUrlFactory.html">OvUrlFactory</a></li>
                                <li><a href="../classes/SocketFactory.html">SocketFactory</a></li>
                                <li><a href="../classes/storageProvider.html">storageProvider</a></li>
                                <li><a href="../classes/translateFilter.html">translateFilter</a></li>
                                <li><a href="../classes/truncateFilter.html">truncateFilter</a></li>
                                <li><a href="../classes/userService.html">userService</a></li>
                                <li><a href="../classes/utilService.html">utilService</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/ov.html">ov</a></li>
                                <li><a href="../modules/ov.alert.html">ov.alert</a></li>
                                <li><a href="../modules/ov.authentication.html">ov.authentication</a></li>
                                <li><a href="../modules/ov.entity.html">ov.entity</a></li>
                                <li><a href="../modules/ov.i18n.html">ov.i18n</a></li>
                                <li><a href="../modules/ov.socket.html">ov.socket</a></li>
                                <li><a href="../modules/ov.storage.html">ov.storage</a></li>
                                <li><a href="../modules/ov.util.html">ov.util</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: app/client/admin/js/ov/OvApp.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x27;use strict&#x27;;

/**
 * Main OpenVeo module.
 *
 * Loads all AngularJS dependencies and plugins modules. It also initializes formly and define routes exposed
 * by OpenVeo core.
 *
 * @module ov
 * @main ov
 */

(function(angular) {

  var moduleDependencies = [
    &#x27;ngRoute&#x27;,
    &#x27;ov.authentication&#x27;,
    &#x27;ov.storage&#x27;,
    &#x27;ov.i18n&#x27;,
    &#x27;ov.entity&#x27;,
    &#x27;ov.alert&#x27;,
    &#x27;ov.tableForm&#x27;,
    &#x27;ov.util&#x27;,
    &#x27;ov.socket&#x27;,
    &#x27;ui.bootstrap&#x27;,
    &#x27;ui.tree&#x27;,
    &#x27;ngTasty&#x27;,
    &#x27;formly&#x27;,
    &#x27;formlyBootstrap&#x27;,
    &#x27;ngJSONPath&#x27;,
    &#x27;ngAnimate&#x27;,
    &#x27;ui.tinymce&#x27;,
    &#x27;ngFileUpload&#x27;
  ];

  // Loads all openveo sub plugins as dependencies of the module &quot;ov&quot;
  if (typeof openVeoSettings !== &#x27;undefined&#x27; &amp;&amp; openVeoSettings.plugins) {
    angular.forEach(openVeoSettings.plugins, function(pluginToLoad) {

      // If a module exists for a sub plugin
      // e.g ov.plugin1
      // Load it.
      angular.module(&#x27;ov.&#x27; + pluginToLoad);
      moduleDependencies.push(&#x27;ov.&#x27; + pluginToLoad);

    });
  }

  var app = angular.module(&#x27;ov&#x27;, moduleDependencies);
  app.run([&#x27;formlyConfig&#x27;, &#x27;$filter&#x27;, &#x27;$sce&#x27;, function(formlyConfig, $filter, $sce) {

    // Formly wrappers
    formlyConfig.setWrapper({
      name: &#x27;collapse&#x27;,
      templateUrl: &#x27;ov-core-collapse.html&#x27;
    });
    formlyConfig.setWrapper({
      name: &#x27;horizontalBootstrapLabel&#x27;,
      templateUrl: &#x27;ov-core-horizontal-bootstrap-label.html&#x27;
    });
    formlyConfig.setWrapper({
      name: &#x27;horizontalBootstrapLabelOnly&#x27;,
      templateUrl: &#x27;ov-core-horizontal-bootstrap-label-only.html&#x27;
    });
    formlyConfig.setWrapper({
      name: &#x27;editableWrapper&#x27;,
      templateUrl: &#x27;ov-core-editable-wrapper.html&#x27;
    });

    // Formly types
    formlyConfig.setType({
      name: &#x27;datepicker&#x27;,
      templateUrl: &#x27;ov-core-formly-datepicker.html&#x27;,
      defaultOptions: {
        validation: {
          show: true
        }
      },
      link: function(scope, element, attrs) {
        scope.status = {opened: false};

        scope.open = function() {
          scope.status.opened = true;
        };
      }
    });
    formlyConfig.setType({
      name: &#x27;dateTimePicker&#x27;,
      templateUrl: &#x27;ov-core-formly-date-time-picker.html&#x27;
    });
    formlyConfig.setType({
      name: &#x27;tags&#x27;,
      templateUrl: &#x27;ov-core-formly-tags.html&#x27;,
      defaultOptions: {
        validation: {
          show: true
        }
      }
    });
    formlyConfig.setType({
      name: &#x27;match&#x27;,
      templateUrl: &#x27;ov-core-formly-match.html&#x27;,
      defaultOptions: {
        validation: {
          show: true
        }
      }
    });
    formlyConfig.setType({
      name: &#x27;emptyrow&#x27;,
      templateUrl: &#x27;ov-core-empty-row.html&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;section&#x27;,
      templateUrl: &#x27;ov-core-section.html&#x27;
    });
    formlyConfig.setType({
      name: &#x27;autoComplete&#x27;,
      templateUrl: &#x27;ov-core-formly-auto-complete.html&#x27;,
      defaultOptions: {
        validation: {
          show: true
        }
      }
    });
    formlyConfig.setType({
      extends: &#x27;input&#x27;,
      name: &#x27;editableInput&#x27;,
      link: function(scope, element, attrs) {
        scope.show = function() {
          scope.isEmpty = scope.model[scope.options.key] ? false : true;
          return scope.model[scope.options.key] || $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.EMPTY&#x27;);
        };
      }
    });
    formlyConfig.setType({
      extends: &#x27;select&#x27;,
      name: &#x27;editableSelect&#x27;,
      link: function(scope, element, attrs) {
        scope.show = function() {
          var labels = [];
          var values;

          if (Object.prototype.toString.call(scope.model[scope.options.key]) === &#x27;[object Array]&#x27;)
            values = scope.model[scope.options.key];
          else
            values = [scope.model[scope.options.key]];

          // Find selected option label
          scope.to.options.forEach(function(option) {
            values.forEach(function(value) {
              if (option.value === value)
                labels.push(option.name);
            });
          });

          scope.isEmpty = labels.length ? false : true;
          return labels.length ? labels.join(&#x27;, &#x27;) : $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.EMPTY&#x27;);
        };
      }
    });
    formlyConfig.setType({
      name: &#x27;editableDatepicker&#x27;,
      extends: &#x27;datepicker&#x27;,
      link: function(scope, element, attrs) {
        scope.show = function() {
          return $filter(&#x27;date&#x27;)(scope.model[scope.options.key], &#x27;shortDate&#x27;);
        };
      }
    });
    formlyConfig.setType({
      name: &#x27;editableDateTimePicker&#x27;,
      extends: &#x27;dateTimePicker&#x27;,
      link: function(scope, element, attrs) {
        scope.show = function() {
          scope.isEmpty = scope.model[scope.options.key] ? false : true;
          return $filter(&#x27;date&#x27;)(scope.model[scope.options.key], &#x27;medium&#x27;) || $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.EMPTY&#x27;);
        };
      }
    });
    formlyConfig.setType({
      name: &#x27;editableTags&#x27;,
      extends: &#x27;tags&#x27;,
      link: function(scope, element, attrs) {
        scope.show = function() {
          var tags = scope.model[scope.options.key];
          scope.isEmpty = tags &amp;&amp; tags.length ? false : true;

          if (scope.isEmpty) return $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.EMPTY&#x27;);

          var tagNames = [];
          if (scope.to.availableOptions) {
            tags.forEach(function(tag) {
              for (var i = 0; i &lt; scope.to.availableOptions.length; i++) {
                var availableTag = scope.to.availableOptions[i];
                if (tag === availableTag.value) {
                  tagNames.push(availableTag.name);
                  break;
                }
              }
            });
          } else
            tagNames = tags;

          return tagNames.join(&#x27;, &#x27;);
        };
      }
    });
    formlyConfig.setType({
      name: &#x27;ovMultiCheckBox&#x27;,
      templateUrl: &#x27;ov-core-formly-multi-check-box.html&#x27;
    });
    formlyConfig.setType({
      name: &#x27;ovEditableMultiCheckBox&#x27;,
      extends: &#x27;ovMultiCheckBox&#x27;,
      link: function(scope) {
        scope.show = function() {
          var selected = [];
          angular.forEach(scope.to.options, function(s) {
            if (scope.model[scope.options.key] &amp;&amp; scope.model[scope.options.key].indexOf(s.id) &gt;= 0) {
              selected.push(s.name);
            }
          });
          scope.isEmpty = selected.length ? false : true;
          return selected.length ? selected.join(&#x27;, &#x27;) : $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.EMPTY&#x27;);
        };
      }
    });
    formlyConfig.setType({
      extends: &#x27;checkbox&#x27;,
      name: &#x27;editableCheckbox&#x27;,
      link: function(scope, element, attrs) {
        scope.show = function() {
          scope.isEmpty = false;
          return scope.model[scope.options.key] &amp;&amp;
            $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.TRUE&#x27;) || $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.FALSE&#x27;);
        };
      }
    });
    formlyConfig.setType({
      name: &#x27;ovTinymce&#x27;,
      templateUrl: &#x27;ov-core-textarea-tinymce.html&#x27;
    });
    formlyConfig.setType({
      name: &#x27;ovEditableTinymce&#x27;,
      extends: &#x27;ovTinymce&#x27;,
      link: function(scope) {
        scope.show = function() {
          scope.isEmpty = scope.model[scope.options.key] ? false : true;
          return scope.model[scope.options.key] || $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.EMPTY&#x27;);
        };
      }
    });
    formlyConfig.setType({
      name: &#x27;editableAutoComplete&#x27;,
      extends: &#x27;autoComplete&#x27;,
      link: function(scope, element, attrs) {
        scope.show = function() {
          scope.isEmpty = scope.model[scope.options.key] ? false : true;
          return scope.model[scope.options.key] || $filter(&#x27;translate&#x27;)(&#x27;CORE.UI.EMPTY&#x27;);
        };
      }
    });
    formlyConfig.setType({
      name: &#x27;ovFile&#x27;,
      templateUrl: &#x27;ov-file.html&#x27;,
      link: function(scope) {

        // As a File object can&#x27;t be copied the model of the ovFile type is not
        // the file but the progress of the upload (in percent)
        // File model is stored here
        scope.file = null;

        // Watch for model changes (progress of the upload)
        scope.$watch(&#x27;model[&quot;&#x27; + scope.options.key + &#x27;&quot;]&#x27;, function(progress) {
          if (progress === 100) {

            // Done uploading file
            // Reset field
            scope.file = null;
            scope.form.file.$setUntouched();
            scope.form.file.$setPristine();

          }
        });
      }
    });
    formlyConfig.setType({
      name: &#x27;simple&#x27;,
      templateUrl: &#x27;ov-core-simple.html&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalFile&#x27;,
      extends: &#x27;ovFile&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableFile&#x27;,
      extends: &#x27;horizontalFile&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalTinymce&#x27;,
      extends: &#x27;ovTinymce&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableTinymce&#x27;,
      extends: &#x27;ovEditableTinymce&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalInput&#x27;,
      extends: &#x27;input&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableInput&#x27;,
      extends: &#x27;editableInput&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalDatepicker&#x27;,
      extends: &#x27;datepicker&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableDatepicker&#x27;,
      extends: &#x27;editableDatepicker&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalDateTimePicker&#x27;,
      extends: &#x27;dateTimePicker&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableDateTimePicker&#x27;,
      extends: &#x27;editableDateTimePicker&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalSelect&#x27;,
      extends: &#x27;select&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableSelect&#x27;,
      extends: &#x27;editableSelect&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalMultiCheckbox&#x27;,
      extends: &#x27;ovMultiCheckBox&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableMultiCheckbox&#x27;,
      extends: &#x27;ovEditableMultiCheckBox&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalTags&#x27;,
      extends: &#x27;tags&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalMatch&#x27;,
      extends: &#x27;match&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableTags&#x27;,
      extends: &#x27;editableTags&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalCheckbox&#x27;,
      extends: &#x27;checkbox&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableCheckbox&#x27;,
      extends: &#x27;editableCheckbox&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalAutoComplete&#x27;,
      extends: &#x27;autoComplete&#x27;,
      wrapper: [&#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });
    formlyConfig.setType({
      name: &#x27;horizontalEditableAutoComplete&#x27;,
      extends: &#x27;editableAutoComplete&#x27;,
      wrapper: [&#x27;editableWrapper&#x27;, &#x27;horizontalBootstrapLabel&#x27;, &#x27;bootstrapHasError&#x27;]
    });

  }]);

  /**
   * Configures application main routes and set location mode to HTML5.
   */
  app.config([&#x27;$routeProvider&#x27;, &#x27;$locationProvider&#x27;, &#x27;$httpProvider&#x27;,
    function($routeProvider, $locationProvider, $httpProvider) {
      var strategies = openVeoSettings.authenticationStrategies;
      var hasLdap = openVeoSettings.authenticationMechanisms.indexOf(strategies.LDAP) &gt;= 0;
      var hasCas = openVeoSettings.authenticationMechanisms.indexOf(strategies.CAS) &gt;= 0;

      // Register / route with authentication
      $routeProvider.when(&#x27;/&#x27;, {
        templateUrl: &#x27;views/home.html&#x27;,
        controller: &#x27;HomeController&#x27;,
        title: &#x27;CORE.HOME.PAGE_TITLE&#x27;
      });

      // Register /login route without authentication
      $routeProvider.when(&#x27;/login&#x27;, {
        title: &#x27;CORE.LOGIN.PAGE_TITLE&#x27;,
        templateUrl: &#x27;views/login.html&#x27;,
        controller: &#x27;LoginController&#x27;,
        resolve: {
          i18nCommon: [&#x27;i18nService&#x27;, function(i18nService) {
            return i18nService.addDictionary(&#x27;common&#x27;);
          }],
          i18nLogin: [&#x27;i18nService&#x27;, function(i18nService) {
            return i18nService.addDictionary(&#x27;login&#x27;);
          }]
        }
      }).otherwise(&#x27;/&#x27;);

      // Register /applications route with authentication
      // Also retrieve the list of applications
      $routeProvider.when(&#x27;/applications-list&#x27;, {
        templateUrl: &#x27;views/applications.html&#x27;,
        controller: &#x27;ApplicationController&#x27;,
        title: &#x27;CORE.APPLICATIONS.PAGE_TITLE&#x27;,
        access: &#x27;core-access-applications-page&#x27;,
        resolve: {
          scopes: [&#x27;applicationService&#x27;, function(applicationService) {
            return applicationService.loadScopes();
          }]
        }
      });

      // Register /users route with authentication
      // Also retrieve the list of roles
      $routeProvider.when(&#x27;/users-list&#x27;, {
        templateUrl: &#x27;views/users.html&#x27;,
        controller: &#x27;UserController&#x27;,
        title: &#x27;CORE.USERS.PAGE_TITLE&#x27;,
        access: &#x27;core-access-users-page&#x27;,
        resolve: {
          roles: [&#x27;entityService&#x27;, function(entityService) {
            return entityService.getAllEntities(&#x27;roles&#x27;);
          }]
        }
      });

      // Register /profiles route with authentication
      // Also retrieve the user profile
      $routeProvider.when(&#x27;/profile&#x27;, {
        templateUrl: &#x27;views/profile.html&#x27;,
        controller: &#x27;ProfileController&#x27;,
        controllerAs: &#x27;ctrl&#x27;,
        title: &#x27;CORE.PROFILES.PAGE_TITLE&#x27;,
        resolve: {
          user: [&#x27;authenticationService&#x27;, function(authenticationService) {
            return authenticationService.getUserInfo();
          }]
        }
      });

      // Register /roles route with authentication
      // Also retrieve the list of permissions
      $routeProvider.when(&#x27;/roles-list&#x27;, {
        templateUrl: &#x27;views/roles.html&#x27;,
        controller: &#x27;RoleController&#x27;,
        title: &#x27;CORE.ROLES.PAGE_TITLE&#x27;,
        access: &#x27;core-access-roles-page&#x27;,
        resolve: {
          permissions: [&#x27;userService&#x27;, function(userService) {
            return userService.loadPermissions();
          }]
        }
      });

      // Register /groups route with authentication
      $routeProvider.when(&#x27;/groups-list&#x27;, {
        templateUrl: &#x27;views/groups.html&#x27;,
        controller: &#x27;GroupController&#x27;,
        title: &#x27;CORE.GROUPS.PAGE_TITLE&#x27;,
        access: &#x27;core-access-groups-page&#x27;
      });

      // Register /openveo-settings route with authentication
      // Also retrieve OpenVeo settings and roles
      $routeProvider.when(&#x27;/openveo-settings&#x27;, {
        templateUrl: &#x27;views/settings.html&#x27;,
        controller: &#x27;SettingsController&#x27;,
        controllerAs: &#x27;ctrl&#x27;,
        title: &#x27;CORE.SETTINGS.PAGE_TITLE&#x27;,
        access: &#x27;core-access-settings-page&#x27;,
        resolve: {
          ldapSettings: [&#x27;$q&#x27;, &#x27;entityService&#x27;, function($q, entityService) {
            if (!hasLdap) return $q.when({data: {}});
            return entityService.getEntity(&#x27;settings&#x27;, null, &#x27;core-&#x27; + strategies.LDAP);
          }],
          casSettings: [&#x27;$q&#x27;, &#x27;entityService&#x27;, function($q, entityService) {
            if (!hasCas) return $q.when({data: {}});
            return entityService.getEntity(&#x27;settings&#x27;, null, &#x27;core-&#x27; + strategies.CAS);
          }],
          roles: [&#x27;entityService&#x27;, function(entityService) {
            return entityService.getAllEntities(&#x27;roles&#x27;);
          }]
        }
      });

      $locationProvider.html5Mode(true);
      $httpProvider.interceptors.push(&#x27;errorInterceptor&#x27;);

      // Remove the 300ms delay on touch device
      /* global FastClick */
      FastClick.attach(document.body);
    }]);

  // Replace &quot;classic&quot; spaces with non-breaking-spaces
  app.filter(&#x27;noBreakSpace&#x27;, function() {
    return function(value) {
      return value.replace(/ /g, &#x27;\u00A0&#x27;);
    };
  });

})(angular);

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
